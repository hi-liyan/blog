---
id: 编程的原则：改善代码质量的101个方法
title: 《编程的原则：改善代码质量的101个方法》
---
import TipBox from "../../src/components/TipBox";
import MarkPen from "../../src/components/MarkPen";
import CardBox from "../../src/components/CardBox";

作者: [日]上田勋

![](https://images.shiguangping.com/imgs/s33658765.jpg)

## 第一章 前提 编程中永恒的真理

### 1.1 编程没有银弹
<TipBox>
  No Silver Bullet in programming.
  编程没有银弹。
</TipBox>


**软件的复杂性**

编程中没有万能的解决方案可以解决一切问题。

软件在本质上具有难度。软件的本质指的是软件不可或缺的属性、性质，一旦欠缺了，就不再是软件了。在软件的本质中，有四种性质体现了软件具有难度：
- 复杂性
- 同步性
- 可变性
- 不可见性

复杂性：软件本身是庞大且复杂的，上千万行代码也并不少见。软件各组成要素的之间的依赖程度也会随着软件规模扩大呈线性增加，软件比其它任何构造都要复杂。

同步性：软件并不是单独存在的，它是与现实世界关联的。软件是为了解决现实问题，实现用户的实际需求的，所以实际需求决定的软件的复杂性。

可变性：因为软件是解决实际问题的，用户的需求也会一直在变，在实际使用过程中也会产生新的需求，所以，容易修改的代码才是关键

不可见性：软件是概念的集合体，而概念是肉眼看不见的东西。产品、进程、决策的过程等也都是不可见的。软件的设计也是抽象的，这些不可见性体现了软件的难度。

**如何削减软件的复杂性**

软件具有难度，我们该如何削减软件的难度（复杂性）？

应该学习软件的历史，软件的历史也是与复杂性相抗争的历史，期间诞生了很多对抗复杂性的策略。

我们应该学习软件的历史，学习各种方法和思路，努力削减复杂性给开发带来的影响。

**软件非本质部分的改善**

一切事物都是由本质部分和非本质部分组成的。本质部分是指该事物不可或缺的性质，如果缺少了就不是该事物了，非本质则是指不是必须的性质。

在软件开发中，非本质部分如构建环境、编程语言、库、框架等都是软件的非本质部分。

作者认为在软件的非本质部分改善中，成效最大的当属自动化。测试、构建、环境搭建等的自动化会大幅度提高开发的质量和效率，尽量多留些时间给软件的本质部分。

### 1.2 代码即设计文档

<TipBox>Code as design. 代码即设计。</TipBox>

软件本质上属于设计行为，在软件开发中生成的所有文本，真正能称得上工程文档的只有代码。

编程是具有创造性的行为，而不是机械性的劳动。

代码是设计文档，但不是唯一的文档。代码能表达“做什么”和“是什么”，但是不能表达“为什么”，也就是设计理由。所以好的注释或者其它形式的文档可以为后面的维护人员提供判断材料，增加代码的可维护性。

### 1.3 代码必然被修改

<TipBox>Code will be changed. 代码将被修改。</TipBox>

代码在日后一定会被修改，没有写完一次就结束的代码。所以，在编写代码的时候，一定要将“代码会被修改”作为编码优先考虑的事情。

软件本质上的复杂性包括可变性，软件不可能是一成不变的，也不可能是完美无缺。

软件在发布后可能会出现问题，这时需要我们修复这些问题；

用户也会根据软件的实际体验提出新的需求；

用户所在的商户环境的变化也会导致软件的变化...

所有，软件必须迎合这些变化。

**编写经得起修改的代码**

编码时，一定要以代码会被修改为前提，编写经得起修改的代码尤为重要。

在修改代码是，读代码花费的时间要远大于写代码的时间，所以编写经得起修改的代码的很重要的因素就是，代码的可读性，可读性高的代码，修改起来更容易，且不易出错。




## 第二章 准则 编程的指导方针

### 2.1 KISS
<TipBox>Keep It Simple, Stupid. 或者 Keep Is Short and Simple.</TipBox>

KISS 原则强调代码要删繁就简，保持简单明了。因为代码在日后必定会修改，读代码花费的时间远大于写代码的时间，所以，简洁的代码更易阅读和修改。

在编码时，要将**简洁的代码**视为指北针，尽可能将多余的、过剩的要素从代码中剔除。

**怎么做才不画蛇添足？**

- **试图使用新技术**。人们倾向使用新技术写出一些无谓的代码（深表同感，我在学到新技术的时候，就喜欢显摆）。但是，写代码不是为了炫耀聪明才智的，代码是给用户提供价值的；
- **以备将来之需**。有时人们总会觉得将来会用到某些功能，认为最好趁早写出来，于是编写了过剩的代码。现在用不到的代码，绝对不要写，尽可能地保持代码简洁；
- **擅自增加需求**。有时程序员总会擅自增加需求，添加多余的功能，他们觉得某个需求合理、不合理，但是需求与否是由用户决定的。

**KISS 原则的适用范围：** 

KISS 原则适用一切工程设计，在软件开发中，它不仅适用于写代码，还适用于功能设计。

功能繁多的复杂软件不会受到用户的青睐（我第一时间想到的是拼多多，一打开拼多多就有关不完的弹窗，还有支付宝、淘宝...）。功能简洁、接口简洁的软件才受欢迎。

**Less is more。**

还是强调代码要简洁，避免写冗余、复杂的代码。

**奥卡姆剃刀**
指不应假设非必要的前题来说明某个事物。当一个事物存在多种解释时，最简洁的解释才是最合适的。

在写代码时，实现相同功能的情况下，不包含多余内容的代码更易阅读和修改。

### 2.2 DRY
Don't repeat yourself. 不要重复。

强调避免写重复代码，可以通过抽象减少重复代码的出现，使相同代码集中在一处。比如出现相同的数据，可以定义成一个常量；多次出现的代码块可以抽象成一个方法等等。

### 2.3 YAGNI
You aren't going to need it. 你不会需要他。

## 每一章开始的名言
<TipBox>
  光有知识是不够的，还应当运用;<br/>
  光有愿望是不够的，还应当行动。
  ——歌德
</TipBox>

<TipBox>
  在我们尚未给予自己支配本身的力量时，解放我们精神的所有行为，都是百害而无一益的。——歌德
</TipBox>

<TipBox>如果一个人不知道他要驶向哪个码头，那么任何风都不会是顺风。 ——塞涅卡</TipBox>
