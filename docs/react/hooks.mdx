---
id: react-hooks
title: ğŸªhooks
---
import ArticleCreation from "../../src/components/ArticleCreation";
import ImgBox from "../../src/components/ImgBox";

## useState

```javascript
const [count, setCount] = useState(0);
```

ä½¿ç”¨ **useState** éœ€è¦ä¼ å…¥ä¸€ä¸ªåˆå§‹å€¼æˆ–è€…ä¸€ä¸ªå¸¦æœ‰è¿”å›å€¼çš„åˆå§‹åŒ–å‡½æ•°ã€‚å®ƒè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯ **state**ï¼Œç¬¬äºŒä¸ªå…ƒç´ æ˜¯æ›´æ–° **state** çš„å‡½æ•°ã€‚

æ›´æ–°çŠ¶æ€çš„å‡½æ•° setCount å…è®¸ç›´æ¥ä¼ å…¥ä¸€ä¸ªå€¼æ¥æ›´æ–°çŠ¶æ€ã€‚

```typescript
<button onClick={() => setCount(1)}>increment</button>
```

ä¹Ÿå¯ä»¥ä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°æ¥æ›´æ–°çŠ¶æ€ã€‚

```typescript
<button onClick={() => setCount(prevState => prevState += 1)}>increment</button>
```

**æƒ°æ€§åˆå§‹åŒ–**

**useState** çš„åˆå§‹åŒ–å‚æ•°åªä¼šåœ¨ç»„ä»¶åˆå§‹æ¸²æŸ“ä¸­èµ·ä½œç”¨ï¼Œåç»­æ¸²æŸ“æ—¶ä¼šè¢«å¿½ç•¥ã€‚å¦‚æœåˆå§‹ state éœ€è¦é€šè¿‡å¤æ‚è®¡ç®—è·å¾—ï¼Œåˆ™å¯ä»¥ä¼ å…¥ä¸€ä¸ªåˆå§‹åŒ–å‡½æ•°ï¼Œåœ¨å‡½æ•°ä¸­è®¡ç®—å¹¶è¿”å›åˆå§‹çš„ stateï¼Œæ­¤å‡½æ•°åªåœ¨åˆå§‹æ¸²æŸ“æ—¶è¢«è°ƒç”¨ã€‚

```typescript
export default function Counter() {
  const initState = () => {
    console.log("æ‰§è¡Œäº†åˆå§‹åŒ–å‡½æ•°");
    return 0;
  };
  // åœ¨æ¯ä¸€æ¬¡æ›´æ–° state é‡æ–°æ¸²æŸ“ç»„ä»¶æ—¶éƒ½ä¼šæ‰§è¡Œåˆå§‹åŒ–å‡½æ•°
  // const [count, setCount] = useState(initState());
  // åªæœ‰åˆå§‹æ¸²æŸ“æ—¶æ‰è°ƒç”¨åˆå§‹åŒ–å‡½æ•°
  const [count, setCount] = useState(initState);

  return (
    <div className="container">
      <button onClick={() => setCount((prevState) => (prevState += 1))}>
        Count: {count}
      </button>
    </div>
  );
}
```

## useEffect

**useEffect** å¯ä»¥ç›‘å¬ state çš„å˜åŒ–ï¼Œæœ‰æ—¶ä¹Ÿå¯ä»¥å……å½“ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä½¿ç”¨ã€‚å¯ä»¥æŠŠäº§ç”Ÿå‰¯ä½œç”¨çš„æ“ä½œæ”¾åœ¨ useEffect ä¸­æ‰§è¡Œã€‚

useEffect æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ¥æ”¶ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œåœ¨æ¯ä¸€æ¬¡è§¦å‘äº† useEffect æ—¶è°ƒç”¨è¯¥å›è°ƒï¼›ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œ
æ•°ç»„ä¸­æ˜¯è¦ç›‘å¬çš„çŠ¶æ€ï¼Œå½“çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œä¼šè§¦å‘æ‰§è¡Œå›è°ƒã€‚å¦‚æœä¼ å…¥ç©ºæ•°ç»„ï¼Œåˆ™åªä¼šåœ¨åˆå§‹æ¸²æŸ“å®Œæˆåæ‰§è¡Œä¸€æ¬¡å›è°ƒã€‚

```typescript
export default function Counter() {
  const [count, setCount] = useState(0);

  useEffect(() => console.log('åˆå§‹æ¸²æŸ“åæ‰§è¡Œ'), []);

  useEffect(() => console.log('Countå‘ç”Ÿæ”¹æˆæ—¶æ‰§è¡Œ'), [count]);
  
  return (
    <div className="container">
      <button onClick={() => setCount((prevState) => (prevState += 1))}>
        Count: {count}
      </button>
    </div>
  );
}
```

å¦‚æœæƒ³åœ¨ç»„ä»¶å¸è½½å‰æ‰§è¡Œä¸€äº›æ“ä½œï¼Œå¯ä»¥åœ¨å›è°ƒå‡½æ•°ä¸­ return ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°ä¼šåœ¨ç»„ä»¶å¸è½½ä¹‹å‰æ‰§è¡Œã€‚

```typescript
useEffect(() => {
    return () => console.log('ç»„ä»¶å¸è½½å‰æ‰§è¡Œ');
}, [])
```

## useLayoutEffect

## useReducer

## useCallback

## useMemo

## useRef

## useContext